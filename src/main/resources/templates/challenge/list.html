<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
	xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
	layout:decorate="~{layout/layout}">
	
<!-- include CSS File -->
<th:block layout:fragment="css">
	<!-- Handa Challenge CSS File -->
	<link th:href="@{/assets/css/challenge.css}" rel="stylesheet">
</th:block>

<div layout:fragment="content">
	<main id="main">

		<!-- ======= Breadcrumbs ======= -->
		<div class="breadcrumbs">
			<div class="page-header d-flex align-items-center"
				style="background-image: url('assets/img/page-header.jpg');">
				<div class="container position-relative">
					<div class="row d-flex justify-content-center">
						<div class="col-lg-6 text-center">
							<h2>Challenge List</h2>
							<p>원하는 챌린지에 참여해보세요.</p>
						</div>
					</div>
				</div>
			</div>
			<nav>
				<div class="container">
					<ol>
						<li><a href="/">홈</a></li>
						<li>챌린지 리스트</li>
						
						<!-- 카테고리 조회일 경우에만 표시 -->
						<li th:if="${mainCategory != null}" th:text=${mainCategoryName}></li>
						<li th:if="${subCategory != null}"th:text=${subCategoryName}></li>
					</ol>
				</div>
			</nav>
		</div>
		<!-- End Breadcrumbs -->

		<!-- ======= Services Section ======= -->
		<section id="service" class="services pt-0">
			<div class="container" data-aos="fade-up">

				<div class="section-header">
					<!--  <span>챌린지 리스트</span>
          <h2>챌린지 리스트</h2> -->

				</div>

				<div class="row gy-4">

					<div class="create-challenge-div">
						<a href="/create" class="create-challenge-btn">챌린지 생성</a>
					</div>
					<div class="row gy-4">
						<div class="btn-group order-div col-2">
							<select class="form-control handa-list-select">
								<option>최신순</option>
								<option>오래된순</option>
								<option>참여인원순</option>
							</select>
						</div>
						<div class="col-6"></div>
						<div class="search-div col-4">
							<form action="#" class="form-search handa-search-form">
								<input type="text" class="form-control"
									placeholder="검색어를 입력하세요.">
								<button type="submit"
									class="btn btn-primary handa-outline-btn list-search-btn">검색</button>
							</form>
						</div>
						<div class="col-md-12"></div>
						
							<!-- 챌린지 리스트 -->
							<div class="col-lg-4 col-md-6" data-aos="fade-up"
							data-aos-delay="100" th:each="challenge : ${challengeList}">
							<div class="card challenge-item">
								<div class="card-img">
									<img th:src="${challenge.thumbnail}" alt=""
										class="img-fluid">
								</div>
								<h3>
									<a href="/detail" class="stretched-link" th:text=${challenge.challenge_name}></a>
								</h3>
								<p th:text="${challenge.startdate} + ' ~ ' + ${challenge.enddate}"></p>
							</div>
							
						</div>
					</div>
				</div>
			</div>
		</section>
		<!-- End Services Section -->
	</main>
	<!-- End #main -->
</div>
</html>